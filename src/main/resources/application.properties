spring.application.name=practice

# In-memory DB for the prototype (override via env for Postgres)
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:h2:mem:partyapp;DB_CLOSE_DELAY=-1;MODE=PostgreSQL}
spring.datasource.driverClassName=${SPRING_DATASOURCE_DRIVER:org.h2.Driver}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:sa}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:}
spring.jpa.hibernate.ddl-auto=update
spring.jpa.open-in-view=false
spring.jpa.properties.hibernate.jdbc.time_zone=UTC

management.endpoints.web.exposure.include=health, info
management.endpoint.health.probes.enabled=true
management.health.mail.enabled=false

# Outgoing email for OTPs (configure with your SMTP server)
spring.mail.host=${SPRING_MAIL_HOST:localhost}
spring.mail.port=${SPRING_MAIL_PORT:1025}
spring.mail.username=${SPRING_MAIL_USERNAME:}
spring.mail.password=${SPRING_MAIL_PASSWORD:}
spring.mail.properties.mail.smtp.auth=${SPRING_MAIL_SMTP_AUTH:false}
spring.mail.ssl.enabled=${SPRING_MAIL_SSL_ENABLED:false}
spring.mail.properties.mail.smtp.starttls.enable=${SPRING_MAIL_SMTP_STARTTLS:false}
app.mail.from=${APP_MAIL_FROM:noreply@partymonster.com}

# Keep OTP logs visible during prototype
logging.level.com.ddimitko.practice=INFO

# OTLP exporters (disabled by default to avoid noisy failures without a collector)
management.otlp.metrics.export.enabled=${MANAGEMENT_OTLP_METRICS_EXPORT_ENABLED:false}
management.otlp.metrics.export.url=${MANAGEMENT_OTLP_METRICS_EXPORT_URL:http://localhost:4318/v1/metrics}
